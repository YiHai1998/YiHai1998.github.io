# 何为操作系统？

操作系统英文为Operating System，所谓Operating，就是至高无上的权威。主治医师英译是Operating Surgeon，其在手术台上就有着最高话语权，掌控一切。同样，操作系统也应该是`掌控计算机内部世界一切的至高无上系统`。

以上是宏观层面，具体来说，操作系统是介于计算机硬件（物理层面）与应用软件资源（虚拟层面）之间的一个`软件系统`，是一个`程序`。人无法完全操纵整个计算机，因此编写了操作系统这个程序，操作系统帮我们屏蔽了硬件层面的复杂性。

但人并非完美，操作系统更如是，操作系统的设计者时刻要改善操作系统以应对攻击者，这种博弈是操作系统不断发展的动力之一。

计算机好比是汽车，而操作系统就像引擎。平常开车，不需要关注引擎盖里，甚至永远都不需要看到。但是当行驶在路上，汽车发生故障，荒郊野岭，四处无人，此时该怎么办呢？



# 什么角色

## 管理者（对下）

对底层的硬件（物理）层面来说，操作系统就像一个企业的管理者，对他们进行管理和抽象。

操作系统能够：

1. 管理CPU，分配CPU给不同应用和用户。
2. 管理内存，分配内存给不同应用和用户。
3. 管理磁盘（外存），分配磁盘存储给不同应用和用户。
4. 管理I/O，分配I/O给不同应用和用户。
5. 管理鲁棒性（健壮性）
6. 管理安全性

## 魔术师、骗子（对上）

对上层应用程序来说，操作系统就是个骗子！其骗术独步天下，天衣无缝，能够做到偷天换日而不被察觉。他亦是一个完美的时间管理大师。



操作系统通过进程抽象让每一个用户感觉有一台自己`独享的CPU`；通过虚拟内存抽象，让用户感觉物理内存空间具有无限扩张性，这就是把少变多。当然，操作系统的把少变多不是无中生有，变多也不是无限多，只是针对磁盘容量的大小。 

总结一下，就是操作系统可以实现少变多，繁化简。

# 先有鸡还是先有蛋？

操作系统、用户程序，他们之间谁是调用者（主程序），谁是被调用者（子程序），并没有定论，取决于你怎么看。



# 程序并不平等

内核态（特权态），用户态（非特权态）

所谓的用户态、内核态实际上是处理器的一种状态，而不是程序的状态。我们通过设置该状态字，可以将CPU设置为内核态、用户态或者其他的子态（有的CPU有更多种子态）。一个程序运行时，CPU是什么态，这个程序就运行在什么态。